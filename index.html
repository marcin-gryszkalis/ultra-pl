<!DOCTYPE html>
<html>

<script>
        var tracks = [
"2021/Race_Around_Poland_new_3600_V2.gpx",

"2020/Baltyk-Sudety_2001km.gpx",
"2020/BBT2020.gpx",
"2020/Beskidzki_Zboj.gpx",
"2020/CarpatiaDivide_2020_final.gpx",
"2020/Great_Lakes_Gravel.gpx",
"2020/Malopolska_500.gpx",
"2020/MP2020_500.gpx",
"2020/MPP2020.gpx",
"2020/PGR.gpx",
"2020/Piekny_Wschod_2020_500.gpx",
"2020/Piekny_Zachod_501.gpx",
"2020/Pomorska_500.gpx",
"2020/PTJ_2020.gpx",
"2020/VI_KMT_2020_500.gpx",
"2020/Wisla_1200.gpx",

"2019/MP2019_-_500.gpx",
"2019/MPP2019.gpx",
"2019/V_KMT_500.gpx",

];
</script>

<head>
    <title>Ultra PL</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style>
        html,
        body,
        .leaflet-map {
            height: 100%;
            width: 100%;
            padding: 0px;
            margin: 0px;
        }

        .leaflet-map {
            height: 100%;
            max-height: 100vh;
        }

    </style>

    <!-- D3.js -->
    <script src="https://unpkg.com/d3@5.15.0/dist/d3.min.js" charset="utf-8"></script>

    <!-- leaflet-ui -->
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-ui/dist/leaflet-ui.js"></script>

    <!-- leaflet-elevation -->
    <!--
    <link rel="stylesheet" href="https://unpkg.com/@raruto/leaflet-elevation/dist/leaflet-elevation.css" />
    <script src="https://unpkg.com/@raruto/leaflet-elevation/dist/leaflet-elevation.js"></script>
    -->
    <link rel="stylesheet" href="https://unpkg.com//@raruto/leaflet-elevation@0.3.4/leaflet-elevation.min.css" />
    <script src="https://unpkg.com/@raruto/leaflet-elevation@0.3.9/leaflet-elevation.min.js"></script>

    <!-- leaflet-gpx -->
    <script src="https://unpkg.com/leaflet-gpx/gpx.js"></script>

    <!-- leaflet-gpxgroup -->
    <script src="https://unpkg.com/@raruto/leaflet-elevation/libs/leaflet-gpxgroup.js"></script>

</head>

<body>

    <div id="map" class="leaflet-map"></div>

    <script>
        var opts = {
            map: {
                center: [52.1, 19.30],
                zoom: 7,
                fullscreenControl: false,
                resizerControl: false,
                mapTypeId: 'streets',
                mapTypeIds: ['streets', 'satellite', 'topo'],
                gestureHandling: false,
                zoomControl: true,
                pegmanControl: false,
                locateControl: false,
                layersControl: true,
                minimapControl: false,
                editInOSMControl: false,
                loadingControl: true,
                searchControl: false,
                disableDefaultUI: false,
            },
            elevationControl: {
                options: {
                    theme: "lightblue-theme",
                    collapsed: false,
                    detached: false,
                    summary: "line",
                    position: "bottomleft",
                    followMarker: false,
                },
            },
            layersControl: {
                options: {
                    collapsed: true, 
                },
            },
        };

        var map = L.map('map', opts.map);

        var controlElevation = L.control.elevation(opts.elevationControl.options);

//        controlElevation.addTo(map);

//        controlElevation.on('eledata_loaded', function(e) {
//            controlLayer.addOverlay(e.layer, e.name);
//        });

//        controlElevation.load(opts.elevationControl.url);
//        controlElevation.load(opts.elevationControl.url2);

        var routes = L.gpxGroup(tracks, {
//            marker_options: opts.marker.options,
            elevation: true,
            elevation_options: opts.elevationControl.options,
            legend: true,
            distanceMarkers: true,
        });

    routes.addTo(map);
    </script>

</body>

</html>
